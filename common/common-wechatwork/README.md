# Common WeChatWork 模块

## 概述

企业微信 SDK 封装模块，提供企业微信聊天内容存档功能的 Java 封装，基于企业微信官方 JNI SDK。

## 主要功能

- **聊天记录拉取**: 支持拉取企业微信聊天记录
- **媒体消息拉取**: 支持拉取聊天中的媒体消息（图片、文件等）
- **数据解密**: 提供聊天消息的解密功能
- **SDK 管理**: 封装企业微信 Finance SDK 的初始化和销毁

## 核心组件

### SDK 封装

- `Finance`: 企业微信 Finance SDK 的 Java 封装类，提供 JNI 接口调用

## 主要功能说明

### SDK 初始化

- 创建 SDK 实例
- 初始化 SDK（需要企业 ID 和 Secret）

### 聊天记录

- 拉取聊天记录（支持指定序列号和拉取数量）
- 支持代理配置
- 支持超时设置

### 媒体消息

- 拉取媒体消息（支持分片拉取）
- 获取媒体数据
- 判断媒体数据是否拉取完成

### 数据解密

- 解密聊天消息内容

## 使用要求

- 需要企业微信聊天内容存档权限
- 需要企业 ID 和 Secret
- 需要加载企业微信 Finance SDK 的本地库（libWeWorkFinanceSdk_Java.so）

## 依赖说明

- Spring Context（用于配置类）

## 版本要求

- Java 21+
- 需要企业微信 Finance SDK 本地库支持

## 注意事项

- 该模块依赖企业微信官方的 JNI SDK，需要确保本地库文件已正确部署
- 使用前需要先在企业微信管理端开启聊天内容存档功能
- 需要配置正确的企业 ID 和 Secret

